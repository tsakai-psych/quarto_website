<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2026-01-18">

<title>R 確認的因子分析の表を作ってみた、1パイプラインで – さかいの備忘録</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-5d4073339ea55b1ad5ce071f10a273ff.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-04790538fe244593e78e58a7cb4983f3.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="R 確認的因子分析の表を作ってみた、1パイプラインで – さかいの備忘録">
<meta property="og:description" content="1パイプラインで完結することの実用性？多分ないです。">
<meta property="og:image" content="https://tsakai-website.pages.dev/posts/20260118_CFA_table_in_one_pipeline/index_files/figure-html/thumbnail-1.png">
<meta property="og:site_name" content="さかいの備忘録">
<meta property="og:image:height" content="672">
<meta property="og:image:width" content="1344">
<meta name="twitter:title" content="R 確認的因子分析の表を作ってみた、1パイプラインで – さかいの備忘録">
<meta name="twitter:description" content="1パイプラインで完結することの実用性？多分ないです。">
<meta name="twitter:image" content="https://tsakai-website.pages.dev/posts/20260118_CFA_table_in_one_pipeline/index_files/figure-html/thumbnail-1.png">
<meta name="twitter:image-height" content="672">
<meta name="twitter:image-width" content="1344">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">さかいの備忘録</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../content.html"> 
<span class="menu-text">Content</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://x.com/tsakai_psych" target="_blank"> <i class="bi bi-twitter-x" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://researchmap.jp/takutosakai" target="_blank"> 
<span class="menu-text">researchmap</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/tsakai-psych" target="_blank"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">R 確認的因子分析の表を作ってみた、1パイプラインで</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">R memo</div>
                <div class="quarto-category">preprocess</div>
                <div class="quarto-category">analysis</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta column-page-left">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">2026-01-18</p>
      </div>
    </div>
    
      <div>
      <div class="quarto-title-meta-heading">Modified</div>
      <div class="quarto-title-meta-contents">
        <p class="date-modified">2026-01-20</p>
      </div>
    </div>
      
    </div>
    
  <div>
    <div class="abstract">
      <div class="block-title">Abstract</div>
      <p>1パイプラインで完結することの実用性？多分ないです。</p>
    </div>
  </div>
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#packages" id="toc-packages" class="nav-link active" data-scroll-target="#packages">packages</a></li>
  <li><a href="#contents" id="toc-contents" class="nav-link" data-scroll-target="#contents">Contents</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#session-infomation" id="toc-session-infomation" class="nav-link" data-scroll-target="#session-infomation">Session Infomation</a></li>
  <li><a href="#log" id="toc-log" class="nav-link" data-scroll-target="#log">Log</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">





<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/thumbnail-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="packages" class="level2">
<h2 class="anchored" data-anchor-id="packages">packages</h2>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb1-2"><a href="#cb1-2"></a>  tidyverse,</span>
<span id="cb1-3"><a href="#cb1-3"></a>  lavaan,</span>
<span id="cb1-4"><a href="#cb1-4"></a>  psych,</span>
<span id="cb1-5"><a href="#cb1-5"></a>  gt</span>
<span id="cb1-6"><a href="#cb1-6"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="contents" class="level2">
<h2 class="anchored" data-anchor-id="contents">Contents</h2>
<p>これのことです。</p>
<blockquote class="twitter-tweet blockquote" data-theme="dark">
<p lang="ja" dir="ltr">
Rの備忘録<br>Rだけで確認的因子分析の表をつくってみた、1パイプラインで<br>なお、1パイプラインで完結させること実用性はほとんどない模様<br>技術的には可能ってやつ？ <a href="https://t.co/pg5Flkj25t">pic.twitter.com/pg5Flkj25t</a>
</p>
— Takuto SAKAI (<span class="citation" data-cites="tsakai_psych">@tsakai_psych</span>) <a href="https://twitter.com/tsakai_psych/status/2012569276574765559?ref_src=twsrc%5Etfw">January 17, 2026</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>タイトルの通りです。1パイプラインで完結するために、かなり無理した書き方をしているところがあります。わざわざ1パイプラインで完結する必要はありません。</p>
<p>非常に長いので折りたたみました。見たい人は開いてみてください。</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>bfi <span class="sc">|&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>  <span class="fu">relocate</span>(</span>
<span id="cb2-3"><a href="#cb2-3"></a>    age, gender, education</span>
<span id="cb2-4"><a href="#cb2-4"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-6"><a href="#cb2-6"></a>    <span class="fu">across</span>(</span>
<span id="cb2-7"><a href="#cb2-7"></a>      <span class="at">.cols =</span> bfi.dictionary <span class="sc">|&gt;</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>        <span class="fu">subset</span>(</span>
<span id="cb2-9"><a href="#cb2-9"></a>          Keying <span class="sc">==</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb2-10"><a href="#cb2-10"></a>        ) <span class="sc">|&gt;</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>        <span class="fu">rownames</span>(),</span>
<span id="cb2-12"><a href="#cb2-12"></a>      <span class="at">.fns =</span> \(x) {</span>
<span id="cb2-13"><a href="#cb2-13"></a>        <span class="dv">7</span> <span class="sc">-</span> x</span>
<span id="cb2-14"><a href="#cb2-14"></a>      }</span>
<span id="cb2-15"><a href="#cb2-15"></a>    )</span>
<span id="cb2-16"><a href="#cb2-16"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb2-17"><a href="#cb2-17"></a>  <span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">"id"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-18"><a href="#cb2-18"></a>  <span class="fu">group_walk</span>(</span>
<span id="cb2-19"><a href="#cb2-19"></a>    <span class="at">.f =</span> \(x, idx) {</span>
<span id="cb2-20"><a href="#cb2-20"></a>      x <span class="sc">|&gt;</span></span>
<span id="cb2-21"><a href="#cb2-21"></a>        <span class="fu">pivot_longer</span>(</span>
<span id="cb2-22"><a href="#cb2-22"></a>          <span class="at">cols =</span> <span class="fu">matches</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">w</span><span class="sc">\\</span><span class="st">d"</span>),</span>
<span id="cb2-23"><a href="#cb2-23"></a>          <span class="at">names_to =</span> <span class="st">"items"</span></span>
<span id="cb2-24"><a href="#cb2-24"></a>        ) <span class="sc">|&gt;</span></span>
<span id="cb2-25"><a href="#cb2-25"></a>        <span class="fu">mutate</span>(</span>
<span id="cb2-26"><a href="#cb2-26"></a>          <span class="at">nest_item =</span> <span class="fu">str_extract</span>(</span>
<span id="cb2-27"><a href="#cb2-27"></a>            items,</span>
<span id="cb2-28"><a href="#cb2-28"></a>            <span class="at">pattern =</span> <span class="st">"^</span><span class="sc">\\</span><span class="st">w"</span></span>
<span id="cb2-29"><a href="#cb2-29"></a>          )</span>
<span id="cb2-30"><a href="#cb2-30"></a>        ) <span class="sc">|&gt;</span></span>
<span id="cb2-31"><a href="#cb2-31"></a>        <span class="fu">nest</span>(<span class="at">.by =</span> nest_item) <span class="sc">|&gt;</span></span>
<span id="cb2-32"><a href="#cb2-32"></a>        <span class="fu">mutate</span>(</span>
<span id="cb2-33"><a href="#cb2-33"></a>          <span class="at">res =</span> <span class="fu">map</span>(</span>
<span id="cb2-34"><a href="#cb2-34"></a>            <span class="at">.x =</span> data,</span>
<span id="cb2-35"><a href="#cb2-35"></a>            <span class="at">.f =</span> \(x) {</span>
<span id="cb2-36"><a href="#cb2-36"></a>              x <span class="sc">|&gt;</span></span>
<span id="cb2-37"><a href="#cb2-37"></a>                <span class="fu">pivot_wider</span>(</span>
<span id="cb2-38"><a href="#cb2-38"></a>                  <span class="at">names_from =</span> items,</span>
<span id="cb2-39"><a href="#cb2-39"></a>                  <span class="at">values_from =</span> value</span>
<span id="cb2-40"><a href="#cb2-40"></a>                ) <span class="sc">|&gt;</span></span>
<span id="cb2-41"><a href="#cb2-41"></a>                <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">w</span><span class="sc">\\</span><span class="st">d"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-42"><a href="#cb2-42"></a>                psych<span class="sc">::</span><span class="fu">alpha</span>() <span class="sc">|&gt;</span></span>
<span id="cb2-43"><a href="#cb2-43"></a>                _<span class="sc">$</span>total <span class="sc">|&gt;</span></span>
<span id="cb2-44"><a href="#cb2-44"></a>                _<span class="sc">$</span>raw_alpha <span class="sc">|&gt;</span></span>
<span id="cb2-45"><a href="#cb2-45"></a>                <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">3</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-46"><a href="#cb2-46"></a>                <span class="fu">sprintf</span>(<span class="st">"%.3f"</span>, <span class="at">x =</span> _) <span class="sc">|&gt;</span></span>
<span id="cb2-47"><a href="#cb2-47"></a>                <span class="fu">str_remove</span>(<span class="at">pattern =</span> <span class="st">"^0"</span>)</span>
<span id="cb2-48"><a href="#cb2-48"></a>            }</span>
<span id="cb2-49"><a href="#cb2-49"></a>          ) <span class="sc">|&gt;</span></span>
<span id="cb2-50"><a href="#cb2-50"></a>            <span class="fu">set_names</span>(nest_item),</span>
<span id="cb2-51"><a href="#cb2-51"></a>          <span class="at">.by =</span> nest_item</span>
<span id="cb2-52"><a href="#cb2-52"></a>        ) <span class="sc">|&gt;</span></span>
<span id="cb2-53"><a href="#cb2-53"></a>        <span class="fu">pull</span>(res) <span class="sc">|&gt;</span></span>
<span id="cb2-54"><a href="#cb2-54"></a>        <span class="fu">assign</span>(</span>
<span id="cb2-55"><a href="#cb2-55"></a>          <span class="st">"res_alpha"</span>,</span>
<span id="cb2-56"><a href="#cb2-56"></a>          <span class="at">value =</span> _,</span>
<span id="cb2-57"><a href="#cb2-57"></a>          <span class="at">envir =</span> .GlobalEnv</span>
<span id="cb2-58"><a href="#cb2-58"></a>        )</span>
<span id="cb2-59"><a href="#cb2-59"></a>    }</span>
<span id="cb2-60"><a href="#cb2-60"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-61"><a href="#cb2-61"></a>  <span class="fu">cfa</span>(</span>
<span id="cb2-62"><a href="#cb2-62"></a>    <span class="at">model =</span> <span class="st">'</span></span>
<span id="cb2-63"><a href="#cb2-63"></a><span class="st">      Agreeableness =~ A1 + A2 + A3 + A4 + A5</span></span>
<span id="cb2-64"><a href="#cb2-64"></a><span class="st">      Conscientiousness =~ C1 + C2 + C3 + C4 + C5</span></span>
<span id="cb2-65"><a href="#cb2-65"></a><span class="st">      Extraversion =~ E1 + E2 + E3 + E4 + E5</span></span>
<span id="cb2-66"><a href="#cb2-66"></a><span class="st">      Neuroticism =~ N1 + N2 + N3 + N4 + N5</span></span>
<span id="cb2-67"><a href="#cb2-67"></a><span class="st">      Opennness =~ O1 + O2 + O3 + O4 + O5</span></span>
<span id="cb2-68"><a href="#cb2-68"></a><span class="st">    '</span>,</span>
<span id="cb2-69"><a href="#cb2-69"></a>    <span class="at">data =</span> _,</span>
<span id="cb2-70"><a href="#cb2-70"></a>    <span class="at">std.lv =</span> <span class="cn">TRUE</span></span>
<span id="cb2-71"><a href="#cb2-71"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-72"><a href="#cb2-72"></a>  <span class="fu">assign</span>(</span>
<span id="cb2-73"><a href="#cb2-73"></a>    <span class="st">"fit_bfi"</span>,</span>
<span id="cb2-74"><a href="#cb2-74"></a>    <span class="at">value =</span> _</span>
<span id="cb2-75"><a href="#cb2-75"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-76"><a href="#cb2-76"></a>  <span class="fu">inspect</span>(</span>
<span id="cb2-77"><a href="#cb2-77"></a>    <span class="at">what =</span> <span class="st">"std.all"</span></span>
<span id="cb2-78"><a href="#cb2-78"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-79"><a href="#cb2-79"></a>  _<span class="sc">$</span>lambda <span class="sc">|&gt;</span></span>
<span id="cb2-80"><a href="#cb2-80"></a>  <span class="fu">unclass</span>() <span class="sc">|&gt;</span></span>
<span id="cb2-81"><a href="#cb2-81"></a>  <span class="fu">as_tibble</span>(</span>
<span id="cb2-82"><a href="#cb2-82"></a>    <span class="at">rownames =</span> <span class="st">"items"</span></span>
<span id="cb2-83"><a href="#cb2-83"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-84"><a href="#cb2-84"></a>  <span class="fu">arrange</span>(</span>
<span id="cb2-85"><a href="#cb2-85"></a>    <span class="fu">across</span>(</span>
<span id="cb2-86"><a href="#cb2-86"></a>      <span class="at">.cols =</span> <span class="fu">c</span>(Agreeableness, Conscientiousness, Extraversion, Neuroticism, Opennness),</span>
<span id="cb2-87"><a href="#cb2-87"></a>      <span class="at">.fns =</span> <span class="sc">~</span><span class="fu">desc</span>(.x)</span>
<span id="cb2-88"><a href="#cb2-88"></a>    )</span>
<span id="cb2-89"><a href="#cb2-89"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-90"><a href="#cb2-90"></a>  <span class="fu">left_join</span>(</span>
<span id="cb2-91"><a href="#cb2-91"></a>    <span class="at">y =</span> bfi.dictionary <span class="sc">|&gt;</span></span>
<span id="cb2-92"><a href="#cb2-92"></a>      <span class="fu">as_tibble</span>(<span class="at">rownames =</span> <span class="st">"items"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-93"><a href="#cb2-93"></a>      <span class="fu">select</span>(items, Item, Keying),</span>
<span id="cb2-94"><a href="#cb2-94"></a>    <span class="at">by =</span> <span class="fu">join_by</span>(<span class="st">"items"</span>)</span>
<span id="cb2-95"><a href="#cb2-95"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-96"><a href="#cb2-96"></a>  <span class="fu">relocate</span>(</span>
<span id="cb2-97"><a href="#cb2-97"></a>    <span class="at">item_label =</span> Item,</span>
<span id="cb2-98"><a href="#cb2-98"></a>    <span class="at">is_rev =</span> Keying,</span>
<span id="cb2-99"><a href="#cb2-99"></a>    <span class="at">.after =</span> items</span>
<span id="cb2-100"><a href="#cb2-100"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-101"><a href="#cb2-101"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-102"><a href="#cb2-102"></a>    <span class="at">is_rev =</span> <span class="fu">if_else</span>(</span>
<span id="cb2-103"><a href="#cb2-103"></a>      is_rev <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb2-104"><a href="#cb2-104"></a>      <span class="st">""</span>,</span>
<span id="cb2-105"><a href="#cb2-105"></a>      <span class="st">"rev"</span></span>
<span id="cb2-106"><a href="#cb2-106"></a>    )</span>
<span id="cb2-107"><a href="#cb2-107"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-108"><a href="#cb2-108"></a>  <span class="fu">bind_rows</span>(</span>
<span id="cb2-109"><a href="#cb2-109"></a>    <span class="at">y =</span> fit_bfi <span class="sc">|&gt;</span></span>
<span id="cb2-110"><a href="#cb2-110"></a>      <span class="fu">inspect</span>(<span class="at">what =</span> <span class="st">"std.all"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-111"><a href="#cb2-111"></a>      _<span class="sc">$</span>psi <span class="sc">|&gt;</span></span>
<span id="cb2-112"><a href="#cb2-112"></a>      <span class="fu">unclass</span>() <span class="sc">|&gt;</span></span>
<span id="cb2-113"><a href="#cb2-113"></a>      (\(x) {</span>
<span id="cb2-114"><a href="#cb2-114"></a>        <span class="st">`</span><span class="at">[&lt;-</span><span class="st">`</span>(x, <span class="fu">lower.tri</span>(x, <span class="at">diag =</span> <span class="cn">TRUE</span>), <span class="cn">NA</span>)</span>
<span id="cb2-115"><a href="#cb2-115"></a>      }) () <span class="sc">|&gt;</span></span>
<span id="cb2-116"><a href="#cb2-116"></a>      <span class="fu">as_tibble</span>(</span>
<span id="cb2-117"><a href="#cb2-117"></a>        <span class="at">rownames =</span> <span class="st">"item_label"</span></span>
<span id="cb2-118"><a href="#cb2-118"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb2-119"><a href="#cb2-119"></a>      <span class="fu">mutate</span>(</span>
<span id="cb2-120"><a href="#cb2-120"></a>        <span class="at">items =</span> <span class="fu">c</span>(<span class="st">"I"</span>, <span class="st">"II"</span>, <span class="st">"III"</span>, <span class="st">"IV"</span>, <span class="st">"V"</span>)</span>
<span id="cb2-121"><a href="#cb2-121"></a>      ),</span>
<span id="cb2-122"><a href="#cb2-122"></a>    <span class="at">.id =</span> <span class="st">"data_from"</span></span>
<span id="cb2-123"><a href="#cb2-123"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-124"><a href="#cb2-124"></a>  <span class="fu">group_by</span>(data_from) <span class="sc">|&gt;</span></span>
<span id="cb2-125"><a href="#cb2-125"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb2-126"><a href="#cb2-126"></a>  <span class="fu">fmt_number</span>(</span>
<span id="cb2-127"><a href="#cb2-127"></a>    <span class="at">decimals =</span> <span class="dv">3</span></span>
<span id="cb2-128"><a href="#cb2-128"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-129"><a href="#cb2-129"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb2-130"><a href="#cb2-130"></a>    <span class="at">style =</span> <span class="fu">cell_text</span>(</span>
<span id="cb2-131"><a href="#cb2-131"></a>      <span class="at">weight =</span> <span class="st">"bold"</span>,</span>
<span id="cb2-132"><a href="#cb2-132"></a>      <span class="at">font =</span> <span class="st">"Times New Roman"</span></span>
<span id="cb2-133"><a href="#cb2-133"></a>    ),</span>
<span id="cb2-134"><a href="#cb2-134"></a>    <span class="at">locations =</span> <span class="fu">list</span>(</span>
<span id="cb2-135"><a href="#cb2-135"></a>      <span class="fu">cells_body</span>(</span>
<span id="cb2-136"><a href="#cb2-136"></a>        <span class="at">columns =</span> Agreeableness,</span>
<span id="cb2-137"><a href="#cb2-137"></a>        <span class="at">rows =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb2-138"><a href="#cb2-138"></a>      ),</span>
<span id="cb2-139"><a href="#cb2-139"></a>      <span class="fu">cells_body</span>(</span>
<span id="cb2-140"><a href="#cb2-140"></a>        <span class="at">columns =</span> Conscientiousness,</span>
<span id="cb2-141"><a href="#cb2-141"></a>        <span class="at">rows =</span> <span class="dv">6</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb2-142"><a href="#cb2-142"></a>      ),</span>
<span id="cb2-143"><a href="#cb2-143"></a>      <span class="fu">cells_body</span>(</span>
<span id="cb2-144"><a href="#cb2-144"></a>        <span class="at">columns =</span> Extraversion,</span>
<span id="cb2-145"><a href="#cb2-145"></a>        <span class="at">rows =</span> <span class="dv">11</span><span class="sc">:</span><span class="dv">15</span></span>
<span id="cb2-146"><a href="#cb2-146"></a>      ),</span>
<span id="cb2-147"><a href="#cb2-147"></a>      <span class="fu">cells_body</span>(</span>
<span id="cb2-148"><a href="#cb2-148"></a>        <span class="at">columns =</span> Neuroticism,</span>
<span id="cb2-149"><a href="#cb2-149"></a>        <span class="at">rows =</span> <span class="dv">16</span><span class="sc">:</span><span class="dv">20</span></span>
<span id="cb2-150"><a href="#cb2-150"></a>      ),</span>
<span id="cb2-151"><a href="#cb2-151"></a>      <span class="fu">cells_body</span>(</span>
<span id="cb2-152"><a href="#cb2-152"></a>        <span class="at">columns =</span> Opennness,</span>
<span id="cb2-153"><a href="#cb2-153"></a>        <span class="at">rows =</span> <span class="dv">21</span><span class="sc">:</span><span class="dv">25</span></span>
<span id="cb2-154"><a href="#cb2-154"></a>      )</span>
<span id="cb2-155"><a href="#cb2-155"></a>    )</span>
<span id="cb2-156"><a href="#cb2-156"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-157"><a href="#cb2-157"></a>  <span class="fu">tab_stubhead</span>(</span>
<span id="cb2-158"><a href="#cb2-158"></a>    <span class="at">label =</span> <span class="st">"番号"</span></span>
<span id="cb2-159"><a href="#cb2-159"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-160"><a href="#cb2-160"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb2-161"><a href="#cb2-161"></a>    <span class="at">title =</span> <span class="st">"表X. 確認的因子分析の表をRだけで作りたい"</span>,</span>
<span id="cb2-162"><a href="#cb2-162"></a>    <span class="at">subtitle =</span> <span class="fu">md</span>(<span class="st">"なんか前処理から表まで１パイプラインで完結できたかもしれない……（これ実用性あるの？）"</span>)</span>
<span id="cb2-163"><a href="#cb2-163"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-164"><a href="#cb2-164"></a>  <span class="fu">tab_source_note</span>(</span>
<span id="cb2-165"><a href="#cb2-165"></a>    <span class="at">source_note =</span> <span class="fu">md</span>(</span>
<span id="cb2-166"><a href="#cb2-166"></a>      <span class="st">"data from: `psych::bfi`; CFA with `lavaan::cfa()`; table by `gt()`; font: Times New Roman/ Noto Serif JP"</span></span>
<span id="cb2-167"><a href="#cb2-167"></a>    )</span>
<span id="cb2-168"><a href="#cb2-168"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-169"><a href="#cb2-169"></a>  <span class="fu">tab_footnote</span>(</span>
<span id="cb2-170"><a href="#cb2-170"></a>    <span class="at">footnote =</span> <span class="fu">md</span>(<span class="st">"因子間相関は`dplyr::bind_rows()`で無理やりくっつけた"</span>),</span>
<span id="cb2-171"><a href="#cb2-171"></a>    <span class="at">locations =</span> <span class="fu">cells_row_groups</span>(</span>
<span id="cb2-172"><a href="#cb2-172"></a>      <span class="at">groups =</span> <span class="dv">2</span></span>
<span id="cb2-173"><a href="#cb2-173"></a>    )</span>
<span id="cb2-174"><a href="#cb2-174"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-175"><a href="#cb2-175"></a>  <span class="fu">tab_footnote</span>(</span>
<span id="cb2-176"><a href="#cb2-176"></a>    <span class="at">footnote =</span> <span class="fu">md</span>(<span class="st">"&amp;alpha;係数の算出は、非grouped dfを`dplyr::group_walk()`に入れることで無理やり解決"</span>),</span>
<span id="cb2-177"><a href="#cb2-177"></a>    <span class="at">locations =</span> <span class="fu">cells_body</span>(</span>
<span id="cb2-178"><a href="#cb2-178"></a>      <span class="at">columns =</span> item_label,</span>
<span id="cb2-179"><a href="#cb2-179"></a>      <span class="at">rows =</span> <span class="dv">26</span><span class="sc">:</span><span class="dv">30</span></span>
<span id="cb2-180"><a href="#cb2-180"></a>    )</span>
<span id="cb2-181"><a href="#cb2-181"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb2-182"><a href="#cb2-182"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb2-183"><a href="#cb2-183"></a>    <span class="at">style =</span> <span class="fu">cell_text</span>(</span>
<span id="cb2-184"><a href="#cb2-184"></a>      <span class="at">align =</span> <span class="st">"left"</span></span>
<span id="cb2-185"><a href="#cb2-185"></a>    ),</span>
<span id="cb2-186"><a href="#cb2-186"></a>    <span class="at">locations =</span> <span class="fu">cells_body</span>(</span>
<span id="cb2-187"><a href="#cb2-187"></a>      <span class="at">columns =</span> <span class="fu">c</span>(items, item_label)</span>
<span id="cb2-188"><a href="#cb2-188"></a>    )</span>
<span id="cb2-189"><a href="#cb2-189"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-190"><a href="#cb2-190"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb2-191"><a href="#cb2-191"></a>    <span class="at">style =</span> <span class="fu">cell_borders</span>(</span>
<span id="cb2-192"><a href="#cb2-192"></a>      <span class="at">sides =</span> <span class="st">"bottom"</span>,</span>
<span id="cb2-193"><a href="#cb2-193"></a>      <span class="at">style =</span> <span class="st">"hidden"</span></span>
<span id="cb2-194"><a href="#cb2-194"></a>    ),</span>
<span id="cb2-195"><a href="#cb2-195"></a>    <span class="at">locations =</span> <span class="fu">cells_row_groups</span>()</span>
<span id="cb2-196"><a href="#cb2-196"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-197"><a href="#cb2-197"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb2-198"><a href="#cb2-198"></a>    <span class="at">style =</span> <span class="fu">cell_text</span>(</span>
<span id="cb2-199"><a href="#cb2-199"></a>      <span class="at">font =</span> <span class="st">"Times New Roman"</span></span>
<span id="cb2-200"><a href="#cb2-200"></a>    ),</span>
<span id="cb2-201"><a href="#cb2-201"></a>    <span class="at">locations =</span> <span class="fu">list</span>(</span>
<span id="cb2-202"><a href="#cb2-202"></a>      <span class="fu">cells_body</span>(</span>
<span id="cb2-203"><a href="#cb2-203"></a>        <span class="at">columns =</span> <span class="fu">c</span>(items, item_label),</span>
<span id="cb2-204"><a href="#cb2-204"></a>        <span class="at">rows =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span></span>
<span id="cb2-205"><a href="#cb2-205"></a>      ),</span>
<span id="cb2-206"><a href="#cb2-206"></a>      <span class="fu">cells_body</span>(</span>
<span id="cb2-207"><a href="#cb2-207"></a>        <span class="at">columns =</span> Agreeableness<span class="sc">:</span>Opennness,</span>
<span id="cb2-208"><a href="#cb2-208"></a>        <span class="at">rows =</span> <span class="dv">26</span><span class="sc">:</span><span class="dv">30</span></span>
<span id="cb2-209"><a href="#cb2-209"></a>      ),</span>
<span id="cb2-210"><a href="#cb2-210"></a>      <span class="fu">cells_source_notes</span>()</span>
<span id="cb2-211"><a href="#cb2-211"></a>    )</span>
<span id="cb2-212"><a href="#cb2-212"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-213"><a href="#cb2-213"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb2-214"><a href="#cb2-214"></a>    <span class="at">style =</span> <span class="fu">cell_text</span>(</span>
<span id="cb2-215"><a href="#cb2-215"></a>      <span class="at">align =</span> <span class="st">"center"</span></span>
<span id="cb2-216"><a href="#cb2-216"></a>    ),</span>
<span id="cb2-217"><a href="#cb2-217"></a>    <span class="at">locations =</span> <span class="fu">list</span>(</span>
<span id="cb2-218"><a href="#cb2-218"></a>      <span class="fu">cells_column_labels</span>(<span class="at">columns =</span> Agreeableness<span class="sc">:</span>Opennness),</span>
<span id="cb2-219"><a href="#cb2-219"></a>      <span class="fu">cells_body</span>(<span class="at">columns =</span> Agreeableness<span class="sc">:</span>Opennness)</span>
<span id="cb2-220"><a href="#cb2-220"></a>    )</span>
<span id="cb2-221"><a href="#cb2-221"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-222"><a href="#cb2-222"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb2-223"><a href="#cb2-223"></a>    <span class="at">style =</span> <span class="fu">cell_text</span>(</span>
<span id="cb2-224"><a href="#cb2-224"></a>      <span class="at">size =</span> <span class="st">"small"</span></span>
<span id="cb2-225"><a href="#cb2-225"></a>    ),</span>
<span id="cb2-226"><a href="#cb2-226"></a>    <span class="at">locations =</span> <span class="fu">list</span>(</span>
<span id="cb2-227"><a href="#cb2-227"></a>      <span class="fu">cells_footnotes</span>(),</span>
<span id="cb2-228"><a href="#cb2-228"></a>      <span class="fu">cells_source_notes</span>()</span>
<span id="cb2-229"><a href="#cb2-229"></a>    )</span>
<span id="cb2-230"><a href="#cb2-230"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-231"><a href="#cb2-231"></a>  <span class="fu">sub_zero</span>(</span>
<span id="cb2-232"><a href="#cb2-232"></a>    <span class="at">zero_text =</span> <span class="st">""</span></span>
<span id="cb2-233"><a href="#cb2-233"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-234"><a href="#cb2-234"></a>  <span class="fu">sub_missing</span>(</span>
<span id="cb2-235"><a href="#cb2-235"></a>    <span class="at">missing_text =</span> <span class="st">""</span></span>
<span id="cb2-236"><a href="#cb2-236"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-237"><a href="#cb2-237"></a>  <span class="fu">text_transform</span>(</span>
<span id="cb2-238"><a href="#cb2-238"></a>    <span class="at">fn =</span> \(x) {</span>
<span id="cb2-239"><a href="#cb2-239"></a>      <span class="fu">str_remove</span>(</span>
<span id="cb2-240"><a href="#cb2-240"></a>        x,</span>
<span id="cb2-241"><a href="#cb2-241"></a>        <span class="at">pattern =</span> <span class="st">"0(?=</span><span class="sc">\\</span><span class="st">.)"</span></span>
<span id="cb2-242"><a href="#cb2-242"></a>      )</span>
<span id="cb2-243"><a href="#cb2-243"></a>    }</span>
<span id="cb2-244"><a href="#cb2-244"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-245"><a href="#cb2-245"></a>  <span class="fu">text_replace</span>(</span>
<span id="cb2-246"><a href="#cb2-246"></a>    <span class="at">pattern =</span> <span class="st">"rev"</span>,</span>
<span id="cb2-247"><a href="#cb2-247"></a>    <span class="at">replacement =</span> <span class="st">"(逆)"</span>,</span>
<span id="cb2-248"><a href="#cb2-248"></a>    <span class="at">locations =</span> <span class="fu">cells_body</span>(</span>
<span id="cb2-249"><a href="#cb2-249"></a>      <span class="at">columns =</span> is_rev</span>
<span id="cb2-250"><a href="#cb2-250"></a>    )</span>
<span id="cb2-251"><a href="#cb2-251"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-252"><a href="#cb2-252"></a>  <span class="fu">text_case_match</span>(</span>
<span id="cb2-253"><a href="#cb2-253"></a>    <span class="st">"1"</span> <span class="sc">~</span> <span class="st">""</span>,</span>
<span id="cb2-254"><a href="#cb2-254"></a>    <span class="st">"2"</span> <span class="sc">~</span> <span class="st">"因子間相関"</span>,</span>
<span id="cb2-255"><a href="#cb2-255"></a>    <span class="at">.locations =</span> <span class="fu">cells_row_groups</span>()</span>
<span id="cb2-256"><a href="#cb2-256"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-257"><a href="#cb2-257"></a>  <span class="fu">text_case_match</span>(</span>
<span id="cb2-258"><a href="#cb2-258"></a>    <span class="st">"Agreeableness"</span> <span class="sc">~</span> <span class="st">"I"</span>,</span>
<span id="cb2-259"><a href="#cb2-259"></a>    <span class="st">"Conscientiousness"</span> <span class="sc">~</span> <span class="st">"II"</span>,</span>
<span id="cb2-260"><a href="#cb2-260"></a>    <span class="st">"Extraversion"</span> <span class="sc">~</span> <span class="st">"III"</span>,</span>
<span id="cb2-261"><a href="#cb2-261"></a>    <span class="st">"Neuroticism"</span> <span class="sc">~</span> <span class="st">"IV"</span>,</span>
<span id="cb2-262"><a href="#cb2-262"></a>    <span class="st">"Opennness"</span> <span class="sc">~</span> <span class="st">"V"</span>,</span>
<span id="cb2-263"><a href="#cb2-263"></a>    <span class="at">.locations =</span> <span class="fu">cells_column_labels</span>()</span>
<span id="cb2-264"><a href="#cb2-264"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-265"><a href="#cb2-265"></a>  <span class="fu">text_case_match</span>(</span>
<span id="cb2-266"><a href="#cb2-266"></a>    <span class="st">"Agreeableness"</span> <span class="sc">~</span> <span class="fu">paste0</span>(</span>
<span id="cb2-267"><a href="#cb2-267"></a>      <span class="st">"協調性（&amp;alpha; = "</span>, res_alpha<span class="sc">$</span>A, <span class="st">")"</span></span>
<span id="cb2-268"><a href="#cb2-268"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb2-269"><a href="#cb2-269"></a>      <span class="fu">md</span>(),</span>
<span id="cb2-270"><a href="#cb2-270"></a>    <span class="st">"Conscientiousness"</span> <span class="sc">~</span> <span class="fu">paste0</span>(</span>
<span id="cb2-271"><a href="#cb2-271"></a>      <span class="st">"勤勉性（&amp;alpha; = "</span>, res_alpha<span class="sc">$</span>C, <span class="st">")"</span></span>
<span id="cb2-272"><a href="#cb2-272"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb2-273"><a href="#cb2-273"></a>      <span class="fu">md</span>(),</span>
<span id="cb2-274"><a href="#cb2-274"></a>    <span class="st">"Extraversion"</span> <span class="sc">~</span> <span class="fu">paste0</span>(</span>
<span id="cb2-275"><a href="#cb2-275"></a>      <span class="st">"外向性（&amp;alpha; = "</span>, res_alpha<span class="sc">$</span>E, <span class="st">"）"</span></span>
<span id="cb2-276"><a href="#cb2-276"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb2-277"><a href="#cb2-277"></a>      <span class="fu">md</span>(),</span>
<span id="cb2-278"><a href="#cb2-278"></a>    <span class="st">"Neuroticism"</span> <span class="sc">~</span> <span class="fu">paste0</span>(</span>
<span id="cb2-279"><a href="#cb2-279"></a>      <span class="st">"情緒安定性（&amp;alpha; = "</span>, res_alpha<span class="sc">$</span>N, <span class="st">"）"</span></span>
<span id="cb2-280"><a href="#cb2-280"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb2-281"><a href="#cb2-281"></a>      <span class="fu">md</span>(),</span>
<span id="cb2-282"><a href="#cb2-282"></a>    <span class="st">"Opennness"</span> <span class="sc">~</span> <span class="fu">paste0</span>(</span>
<span id="cb2-283"><a href="#cb2-283"></a>      <span class="st">"開放性（&amp;alpha; = "</span>, res_alpha<span class="sc">$</span>O, <span class="st">")"</span></span>
<span id="cb2-284"><a href="#cb2-284"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb2-285"><a href="#cb2-285"></a>      <span class="fu">md</span>(),</span>
<span id="cb2-286"><a href="#cb2-286"></a>    <span class="at">.locations =</span> <span class="fu">cells_body</span>(<span class="at">columns =</span> item_label)</span>
<span id="cb2-287"><a href="#cb2-287"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-288"><a href="#cb2-288"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb2-289"><a href="#cb2-289"></a>    <span class="at">items =</span> <span class="st">"番号"</span>,</span>
<span id="cb2-290"><a href="#cb2-290"></a>    <span class="at">item_label =</span> <span class="st">"項目"</span>,</span>
<span id="cb2-291"><a href="#cb2-291"></a>    <span class="at">is_rev =</span> <span class="st">""</span></span>
<span id="cb2-292"><a href="#cb2-292"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-293"><a href="#cb2-293"></a>  <span class="fu">cols_width</span>(</span>
<span id="cb2-294"><a href="#cb2-294"></a>    item_label <span class="sc">~</span> <span class="fu">px</span>(<span class="dv">270</span>)</span>
<span id="cb2-295"><a href="#cb2-295"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb2-296"><a href="#cb2-296"></a>  <span class="fu">tab_options</span>(</span>
<span id="cb2-297"><a href="#cb2-297"></a>    <span class="at">table.font.names =</span> <span class="st">"Noto Serif JP"</span>,</span>
<span id="cb2-298"><a href="#cb2-298"></a>    <span class="at">heading.border.bottom.color =</span> <span class="st">"black"</span>,</span>
<span id="cb2-299"><a href="#cb2-299"></a>    <span class="at">heading.border.bottom.width =</span> <span class="fu">px</span>(<span class="dv">2</span>),</span>
<span id="cb2-300"><a href="#cb2-300"></a>    <span class="at">table.border.top.style =</span> <span class="st">"hidden"</span>,</span>
<span id="cb2-301"><a href="#cb2-301"></a>    <span class="at">table.border.bottom.width =</span> <span class="fu">px</span>(<span class="dv">2</span>),</span>
<span id="cb2-302"><a href="#cb2-302"></a>    <span class="at">table.border.bottom.color =</span> <span class="st">"black"</span>,</span>
<span id="cb2-303"><a href="#cb2-303"></a>    <span class="at">table_body.hlines.style =</span> <span class="st">"hidden"</span>,</span>
<span id="cb2-304"><a href="#cb2-304"></a>    <span class="at">table_body.border.top.color =</span> <span class="st">"black"</span>,</span>
<span id="cb2-305"><a href="#cb2-305"></a>    <span class="at">table_body.border.top.width =</span> <span class="fu">px</span>(<span class="dv">1</span>),</span>
<span id="cb2-306"><a href="#cb2-306"></a>    <span class="at">table_body.border.bottom.color =</span> <span class="st">"black"</span>,</span>
<span id="cb2-307"><a href="#cb2-307"></a>    <span class="at">table_body.border.bottom.width =</span> <span class="fu">px</span>(<span class="dv">1</span>),</span>
<span id="cb2-308"><a href="#cb2-308"></a>    <span class="at">column_labels.border.bottom.color =</span> <span class="st">"black"</span>,</span>
<span id="cb2-309"><a href="#cb2-309"></a>    <span class="at">column_labels.border.bottom.width =</span> <span class="fu">px</span>(<span class="dv">1</span>),</span>
<span id="cb2-310"><a href="#cb2-310"></a>    <span class="at">row_group.border.top.color =</span> <span class="st">"black"</span>,</span>
<span id="cb2-311"><a href="#cb2-311"></a>    <span class="at">row_group.border.top.width =</span> <span class="fu">px</span>(<span class="dv">1</span>),</span>
<span id="cb2-312"><a href="#cb2-312"></a>    <span class="at">data_row.padding =</span> <span class="fu">px</span>(<span class="dv">3</span>),</span>
<span id="cb2-313"><a href="#cb2-313"></a>    <span class="at">heading.align =</span> <span class="st">"left"</span>,</span>
<span id="cb2-314"><a href="#cb2-314"></a>    <span class="at">table.margin.left =</span> <span class="fu">px</span>(<span class="dv">5</span>),</span>
<span id="cb2-315"><a href="#cb2-315"></a>    <span class="at">table.margin.right =</span> <span class="fu">px</span>(<span class="dv">5</span>)</span>
<span id="cb2-316"><a href="#cb2-316"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="yaywdsqkrd" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#yaywdsqkrd table {
  font-family: 'Noto Serif JP';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#yaywdsqkrd thead, #yaywdsqkrd tbody, #yaywdsqkrd tfoot, #yaywdsqkrd tr, #yaywdsqkrd td, #yaywdsqkrd th {
  border-style: none;
}

#yaywdsqkrd p {
  margin: 0;
  padding: 0;
}

#yaywdsqkrd .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: 5px;
  margin-right: 5px;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: hidden;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#yaywdsqkrd .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#yaywdsqkrd .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#yaywdsqkrd .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#yaywdsqkrd .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yaywdsqkrd .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#yaywdsqkrd .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yaywdsqkrd .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#yaywdsqkrd .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#yaywdsqkrd .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#yaywdsqkrd .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#yaywdsqkrd .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#yaywdsqkrd .gt_spanner_row {
  border-bottom-style: hidden;
}

#yaywdsqkrd .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#yaywdsqkrd .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#yaywdsqkrd .gt_from_md > :first-child {
  margin-top: 0;
}

#yaywdsqkrd .gt_from_md > :last-child {
  margin-bottom: 0;
}

#yaywdsqkrd .gt_row {
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: hidden;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#yaywdsqkrd .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#yaywdsqkrd .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#yaywdsqkrd .gt_row_group_first td {
  border-top-width: 1px;
}

#yaywdsqkrd .gt_row_group_first th {
  border-top-width: 1px;
}

#yaywdsqkrd .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yaywdsqkrd .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#yaywdsqkrd .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#yaywdsqkrd .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yaywdsqkrd .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yaywdsqkrd .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#yaywdsqkrd .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#yaywdsqkrd .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#yaywdsqkrd .gt_table_body {
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #000000;
}

#yaywdsqkrd .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yaywdsqkrd .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yaywdsqkrd .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yaywdsqkrd .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yaywdsqkrd .gt_left {
  text-align: left;
}

#yaywdsqkrd .gt_center {
  text-align: center;
}

#yaywdsqkrd .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#yaywdsqkrd .gt_font_normal {
  font-weight: normal;
}

#yaywdsqkrd .gt_font_bold {
  font-weight: bold;
}

#yaywdsqkrd .gt_font_italic {
  font-style: italic;
}

#yaywdsqkrd .gt_super {
  font-size: 65%;
}

#yaywdsqkrd .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#yaywdsqkrd .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#yaywdsqkrd .gt_indent_1 {
  text-indent: 5px;
}

#yaywdsqkrd .gt_indent_2 {
  text-indent: 10px;
}

#yaywdsqkrd .gt_indent_3 {
  text-indent: 15px;
}

#yaywdsqkrd .gt_indent_4 {
  text-indent: 20px;
}

#yaywdsqkrd .gt_indent_5 {
  text-indent: 25px;
}

#yaywdsqkrd .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#yaywdsqkrd div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" style="table-layout:fixed;" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <colgroup>
    <col>
    <col style="width:270px;">
    <col>
    <col>
    <col>
    <col>
    <col>
    <col>
  </colgroup>
  <thead>
    <tr class="gt_heading">
      <td colspan="8" class="gt_heading gt_title gt_font_normal" style="">表X. 確認的因子分析の表をRだけで作りたい</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="8" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style=""><span data-qmd-base64="44Gq44KT44GL5YmN5Yem55CG44GL44KJ6KGo44G+44Gn77yR44OR44Kk44OX44Op44Kk44Oz44Gn5a6M57WQ44Gn44GN44Gf44GL44KC44GX44KM44Gq44GE4oCm4oCm77yI44GT44KM5a6f55So5oCn44GC44KL44Gu77yf77yJ"><span class="gt_from_md">なんか前処理から表まで１パイプラインで完結できたかもしれない……（これ実用性あるの？）</span></span></td>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="items">番号</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="item_label">項目</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="is_rev"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="text-align: center;" scope="col" id="Agreeableness">I</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="text-align: center;" scope="col" id="Conscientiousness">II</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="text-align: center;" scope="col" id="Extraversion">III</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="text-align: center;" scope="col" id="Neuroticism">IV</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="text-align: center;" scope="col" id="Opennness">V</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="8" class="gt_empty_group_heading" style="border-bottom-width: 1px; border-bottom-style: hidden; border-bottom-color: #000000;" scope="colgroup"></th>
    </tr>
    <tr class="gt_row_group_first"><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">A3</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Know how to comfort others.</td>
<td headers="1  is_rev" class="gt_row gt_left"></td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.749</td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">A5</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Make people feel at ease.</td>
<td headers="1  is_rev" class="gt_row gt_left"></td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.687</td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">A2</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Inquire about others' well-being.</td>
<td headers="1  is_rev" class="gt_row gt_left"></td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.648</td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">A4</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Love children.</td>
<td headers="1  is_rev" class="gt_row gt_left"></td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.510</td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">A1</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Am indifferent to the feelings of others.</td>
<td headers="1  is_rev" class="gt_row gt_left">(逆)</td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.344</td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">C4</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Do things in a half-way manner.</td>
<td headers="1  is_rev" class="gt_row gt_left">(逆)</td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.702</td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">C5</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Waste my time.</td>
<td headers="1  is_rev" class="gt_row gt_left">(逆)</td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.620</td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">C2</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Continue until everything is perfect.</td>
<td headers="1  is_rev" class="gt_row gt_left"></td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.592</td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">C1</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Am exacting in my work.</td>
<td headers="1  is_rev" class="gt_row gt_left"></td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.551</td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">C3</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Do things according to a plan.</td>
<td headers="1  is_rev" class="gt_row gt_left"></td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.546</td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">E4</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Make friends easily.</td>
<td headers="1  is_rev" class="gt_row gt_left"></td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.703</td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">E2</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Find it difficult to approach others.</td>
<td headers="1  is_rev" class="gt_row gt_left">(逆)</td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.699</td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">E3</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Know how to captivate people.</td>
<td headers="1  is_rev" class="gt_row gt_left"></td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.627</td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">E1</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Don't talk a lot.</td>
<td headers="1  is_rev" class="gt_row gt_left">(逆)</td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.564</td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">E5</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Take charge.</td>
<td headers="1  is_rev" class="gt_row gt_left"></td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.553</td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">N1</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Get angry easily.</td>
<td headers="1  is_rev" class="gt_row gt_left">(逆)</td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.825</td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">N2</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Get irritated easily.</td>
<td headers="1  is_rev" class="gt_row gt_left">(逆)</td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.803</td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">N3</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Have frequent mood swings.</td>
<td headers="1  is_rev" class="gt_row gt_left">(逆)</td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.721</td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">N4</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Often feel blue.</td>
<td headers="1  is_rev" class="gt_row gt_left">(逆)</td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.573</td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">N5</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Panic easily.</td>
<td headers="1  is_rev" class="gt_row gt_left">(逆)</td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.503</td>
<td headers="1  Opennness" class="gt_row gt_right" style="text-align: center;"></td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">O3</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Carry the conversation to a higher level.</td>
<td headers="1  is_rev" class="gt_row gt_left"></td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.724</td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">O1</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Am full of ideas.</td>
<td headers="1  is_rev" class="gt_row gt_left"></td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.564</td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">O5</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Will not probe deeply into a subject.</td>
<td headers="1  is_rev" class="gt_row gt_left">(逆)</td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.461</td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">O2</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Avoid difficult reading material.</td>
<td headers="1  is_rev" class="gt_row gt_left">(逆)</td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.418</td></tr>
    <tr><td headers="1  items" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">O4</td>
<td headers="1  item_label" class="gt_row gt_left" style="text-align: left; font-family: 'Times New Roman';">Spend time reflecting on things.</td>
<td headers="1  is_rev" class="gt_row gt_left"></td>
<td headers="1  Agreeableness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Conscientiousness" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Extraversion" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Neuroticism" class="gt_row gt_right" style="text-align: center;"></td>
<td headers="1  Opennness" class="gt_row gt_right" style="font-family: 'Times New Roman'; font-weight: bold; text-align: center;">.233</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="8" class="gt_group_heading" style="border-bottom-width: 1px; border-bottom-style: hidden; border-bottom-color: #000000;" scope="colgroup" id="因子間相関<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;&quot;><sup>1</sup></span>">因子間相関<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
    </tr>
    <tr class="gt_row_group_first"><td headers="2  items" class="gt_row gt_left" style="text-align: left;">I</td>
<td headers="2  item_label" class="gt_row gt_left" style="text-align: left;">協調性（α = .703)<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span></td>
<td headers="2  is_rev" class="gt_row gt_left"><br></td>
<td headers="2  Agreeableness" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;"><br></td>
<td headers="2  Conscientiousness" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;">.334</td>
<td headers="2  Extraversion" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;">.683</td>
<td headers="2  Neuroticism" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;">.223</td>
<td headers="2  Opennness" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;">.303</td></tr>
    <tr><td headers="2  items" class="gt_row gt_left" style="text-align: left;">II</td>
<td headers="2  item_label" class="gt_row gt_left" style="text-align: left;">勤勉性（α = .727)<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span></td>
<td headers="2  is_rev" class="gt_row gt_left"><br></td>
<td headers="2  Agreeableness" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;"><br></td>
<td headers="2  Conscientiousness" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;"><br></td>
<td headers="2  Extraversion" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;">.357</td>
<td headers="2  Neuroticism" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;">.283</td>
<td headers="2  Opennness" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;">.301</td></tr>
    <tr><td headers="2  items" class="gt_row gt_left" style="text-align: left;">III</td>
<td headers="2  item_label" class="gt_row gt_left" style="text-align: left;">外向性（α = .762）<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span></td>
<td headers="2  is_rev" class="gt_row gt_left"><br></td>
<td headers="2  Agreeableness" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;"><br></td>
<td headers="2  Conscientiousness" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;"><br></td>
<td headers="2  Extraversion" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;"><br></td>
<td headers="2  Neuroticism" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;">.244</td>
<td headers="2  Opennness" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;">.453</td></tr>
    <tr><td headers="2  items" class="gt_row gt_left" style="text-align: left;">IV</td>
<td headers="2  item_label" class="gt_row gt_left" style="text-align: left;">情緒安定性（α = .814）<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span></td>
<td headers="2  is_rev" class="gt_row gt_left"><br></td>
<td headers="2  Agreeableness" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;"><br></td>
<td headers="2  Conscientiousness" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;"><br></td>
<td headers="2  Extraversion" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;"><br></td>
<td headers="2  Neuroticism" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;"><br></td>
<td headers="2  Opennness" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;">.112</td></tr>
    <tr><td headers="2  items" class="gt_row gt_left" style="text-align: left;">V</td>
<td headers="2  item_label" class="gt_row gt_left" style="text-align: left;">開放性（α = .600)<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span></td>
<td headers="2  is_rev" class="gt_row gt_left"><br></td>
<td headers="2  Agreeableness" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;"><br></td>
<td headers="2  Conscientiousness" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;"><br></td>
<td headers="2  Extraversion" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;"><br></td>
<td headers="2  Neuroticism" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;"><br></td>
<td headers="2  Opennness" class="gt_row gt_right" style="font-family: 'Times New Roman'; text-align: center;"><br></td></tr>
  </tbody>
  <tfoot>
    <tr class="gt_footnotes">
      <td class="gt_footnote" style="font-size: small;" colspan="8"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> <span data-qmd-base64="5Zug5a2Q6ZaT55u46Zai44GvYGRwbHlyOjpiaW5kX3Jvd3MoKWDjgafnhKHnkIbjgoTjgorjgY/jgaPjgaTjgZHjgZ8="><span class="gt_from_md">因子間相関は<code>dplyr::bind_rows()</code>で無理やりくっつけた</span></span></td>
    </tr>
    <tr class="gt_footnotes">
      <td class="gt_footnote" style="font-size: small;" colspan="8"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span> <span data-qmd-base64="JmFscGhhO+S/guaVsOOBrueul+WHuuOBr+OAgemdnmdyb3VwZWQgZGbjgpJgZHBseXI6Omdyb3VwX3dhbGsoKWDjgavlhaXjgozjgovjgZPjgajjgafnhKHnkIbjgoTjgorop6Pmsbo="><span class="gt_from_md">α係数の算出は、非grouped dfを<code>dplyr::group_walk()</code>に入れることで無理やり解決</span></span></td>
    </tr>
    <tr class="gt_sourcenotes">
      <td class="gt_sourcenote" style="font-family: 'Times New Roman'; font-size: small;" colspan="8"><span data-qmd-base64="ZGF0YSBmcm9tOiBgcHN5Y2g6OmJmaWA7IENGQSB3aXRoIGBsYXZhYW46OmNmYSgpYDsgdGFibGUgYnkgYGd0KClgOyBmb250OiBUaW1lcyBOZXcgUm9tYW4vIE5vdG8gU2VyaWYgSlA="><span class="gt_from_md">data from: <code>psych::bfi</code>; CFA with <code>lavaan::cfa()</code>; table by <code>gt()</code>; font: Times New Roman/ Noto Serif JP</span></span></td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
<p>【追記】2026-01-20 <code>gt::gt()</code>はそのままだとHTML出力になるんですが、環境によってはフォントとかが再現されないので、画像を追加しました。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="20260119_CFA_table_in_one_pipeline.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="20260119_CFA_table_in_one_pipeline.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></a></p>
</figure>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>処理の過程を見たい人向け（長いよ）
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>やってること</p>
<ol type="1">
<li>元データの前処理（逆転処理）</li>
<li><code>dplyr::group_walk()</code>に非grouped dfを突っ込んで、中でα係数の計算をこなして.GrobalEnvに結果を保存しつつ、元のdfをそのまま返してもらう</li>
<li><code>lavaan::cfa()</code>で確認的因子分析をして、因子負荷量を抽出する
<ol type="a">
<li>後で使うので、CFAの結果を<code>assign()</code>で.GrobalEnvに保存しつつ、そのまま処理を続ける</li>
</ol></li>
<li><code>dplyr::left_join()</code>で、<code>psych::bfi.dictionary</code>から質問項目と逆転項目かどうかの列をくっつける</li>
<li><code>dplyr::bind_rows()</code>で、因子間相関のdfを無理やりくっつける
<ol type="a">
<li>CFAの結果はすでに保存してあるので、そこから抽出</li>
</ol></li>
<li><code>gt::gt()</code>で表づくり
<ol type="a">
<li>保存したα係数をくっつける</li>
</ol></li>
</ol>
<p><code>gt::gt()</code>と<code>ViewPipeSteps::print_pipe_step()</code>の相性が悪いので、<code>gt()</code>の前まで。</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">options</span>(<span class="at">pillar.print_max =</span> <span class="dv">30</span>) <span class="co"># for better tibble displaying</span></span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="fu">relocate</span>(</span>
<span id="cb3-5"><a href="#cb3-5"></a>    age, gender, education</span>
<span id="cb3-6"><a href="#cb3-6"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-8"><a href="#cb3-8"></a>    <span class="fu">across</span>(</span>
<span id="cb3-9"><a href="#cb3-9"></a>      <span class="at">.cols =</span> bfi.dictionary <span class="sc">%&gt;%</span></span>
<span id="cb3-10"><a href="#cb3-10"></a>        <span class="fu">subset</span>(</span>
<span id="cb3-11"><a href="#cb3-11"></a>          Keying <span class="sc">==</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb3-12"><a href="#cb3-12"></a>        ) <span class="sc">%&gt;%</span></span>
<span id="cb3-13"><a href="#cb3-13"></a>        <span class="fu">rownames</span>(),</span>
<span id="cb3-14"><a href="#cb3-14"></a>      <span class="at">.fns =</span> \(x) {</span>
<span id="cb3-15"><a href="#cb3-15"></a>        <span class="dv">7</span> <span class="sc">-</span> x</span>
<span id="cb3-16"><a href="#cb3-16"></a>      }</span>
<span id="cb3-17"><a href="#cb3-17"></a>    )</span>
<span id="cb3-18"><a href="#cb3-18"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb3-19"><a href="#cb3-19"></a>  <span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">"id"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-20"><a href="#cb3-20"></a>  <span class="fu">group_walk</span>(</span>
<span id="cb3-21"><a href="#cb3-21"></a>    <span class="at">.f =</span> \(x, idx) {</span>
<span id="cb3-22"><a href="#cb3-22"></a>      x <span class="sc">%&gt;%</span></span>
<span id="cb3-23"><a href="#cb3-23"></a>        <span class="fu">pivot_longer</span>(</span>
<span id="cb3-24"><a href="#cb3-24"></a>          <span class="at">cols =</span> <span class="fu">matches</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">w</span><span class="sc">\\</span><span class="st">d"</span>),</span>
<span id="cb3-25"><a href="#cb3-25"></a>          <span class="at">names_to =</span> <span class="st">"items"</span></span>
<span id="cb3-26"><a href="#cb3-26"></a>        ) <span class="sc">%&gt;%</span></span>
<span id="cb3-27"><a href="#cb3-27"></a>        <span class="fu">mutate</span>(</span>
<span id="cb3-28"><a href="#cb3-28"></a>          <span class="at">nest_item =</span> <span class="fu">str_extract</span>(</span>
<span id="cb3-29"><a href="#cb3-29"></a>            items,</span>
<span id="cb3-30"><a href="#cb3-30"></a>            <span class="at">pattern =</span> <span class="st">"^</span><span class="sc">\\</span><span class="st">w"</span></span>
<span id="cb3-31"><a href="#cb3-31"></a>          )</span>
<span id="cb3-32"><a href="#cb3-32"></a>        ) <span class="sc">%&gt;%</span></span>
<span id="cb3-33"><a href="#cb3-33"></a>        <span class="fu">nest</span>(<span class="at">.by =</span> nest_item) <span class="sc">%&gt;%</span></span>
<span id="cb3-34"><a href="#cb3-34"></a>        <span class="fu">mutate</span>(</span>
<span id="cb3-35"><a href="#cb3-35"></a>          <span class="at">res =</span> <span class="fu">map</span>(</span>
<span id="cb3-36"><a href="#cb3-36"></a>            <span class="at">.x =</span> data,</span>
<span id="cb3-37"><a href="#cb3-37"></a>            <span class="at">.f =</span> \(x) {</span>
<span id="cb3-38"><a href="#cb3-38"></a>              x <span class="sc">%&gt;%</span></span>
<span id="cb3-39"><a href="#cb3-39"></a>                <span class="fu">pivot_wider</span>(</span>
<span id="cb3-40"><a href="#cb3-40"></a>                  <span class="at">names_from =</span> items,</span>
<span id="cb3-41"><a href="#cb3-41"></a>                  <span class="at">values_from =</span> value</span>
<span id="cb3-42"><a href="#cb3-42"></a>                ) <span class="sc">%&gt;%</span></span>
<span id="cb3-43"><a href="#cb3-43"></a>                <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">w</span><span class="sc">\\</span><span class="st">d"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-44"><a href="#cb3-44"></a>                psych<span class="sc">::</span><span class="fu">alpha</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-45"><a href="#cb3-45"></a>                .<span class="sc">$</span>total <span class="sc">%&gt;%</span></span>
<span id="cb3-46"><a href="#cb3-46"></a>                .<span class="sc">$</span>raw_alpha <span class="sc">%&gt;%</span></span>
<span id="cb3-47"><a href="#cb3-47"></a>                <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-48"><a href="#cb3-48"></a>                <span class="fu">sprintf</span>(<span class="st">"%.3f"</span>, <span class="at">x =</span> .) <span class="sc">%&gt;%</span></span>
<span id="cb3-49"><a href="#cb3-49"></a>                <span class="fu">str_remove</span>(<span class="at">pattern =</span> <span class="st">"^0"</span>)</span>
<span id="cb3-50"><a href="#cb3-50"></a>            }</span>
<span id="cb3-51"><a href="#cb3-51"></a>          ) <span class="sc">%&gt;%</span></span>
<span id="cb3-52"><a href="#cb3-52"></a>            <span class="fu">set_names</span>(nest_item),</span>
<span id="cb3-53"><a href="#cb3-53"></a>          <span class="at">.by =</span> nest_item</span>
<span id="cb3-54"><a href="#cb3-54"></a>        ) <span class="sc">%&gt;%</span></span>
<span id="cb3-55"><a href="#cb3-55"></a>        <span class="fu">pull</span>(res) <span class="sc">%&gt;%</span></span>
<span id="cb3-56"><a href="#cb3-56"></a>        <span class="fu">assign</span>(</span>
<span id="cb3-57"><a href="#cb3-57"></a>          <span class="st">"res_alpha"</span>,</span>
<span id="cb3-58"><a href="#cb3-58"></a>          <span class="at">value =</span> .,</span>
<span id="cb3-59"><a href="#cb3-59"></a>          <span class="at">envir =</span> .GlobalEnv</span>
<span id="cb3-60"><a href="#cb3-60"></a>        )</span>
<span id="cb3-61"><a href="#cb3-61"></a>    }</span>
<span id="cb3-62"><a href="#cb3-62"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-63"><a href="#cb3-63"></a>  lavaan<span class="sc">::</span><span class="fu">cfa</span>(</span>
<span id="cb3-64"><a href="#cb3-64"></a>    <span class="at">model =</span> <span class="st">'</span></span>
<span id="cb3-65"><a href="#cb3-65"></a><span class="st">      Agreeableness =~ A1 + A2 + A3 + A4 + A5</span></span>
<span id="cb3-66"><a href="#cb3-66"></a><span class="st">      Conscientiousness =~ C1 + C2 + C3 + C4 + C5</span></span>
<span id="cb3-67"><a href="#cb3-67"></a><span class="st">      Extraversion =~ E1 + E2 + E3 + E4 + E5</span></span>
<span id="cb3-68"><a href="#cb3-68"></a><span class="st">      Neuroticism =~ N1 + N2 + N3 + N4 + N5</span></span>
<span id="cb3-69"><a href="#cb3-69"></a><span class="st">      Opennness =~ O1 + O2 + O3 + O4 + O5</span></span>
<span id="cb3-70"><a href="#cb3-70"></a><span class="st">    '</span>,</span>
<span id="cb3-71"><a href="#cb3-71"></a>    <span class="at">data =</span> .,</span>
<span id="cb3-72"><a href="#cb3-72"></a>    <span class="at">std.lv =</span> <span class="cn">TRUE</span></span>
<span id="cb3-73"><a href="#cb3-73"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-74"><a href="#cb3-74"></a>  <span class="fu">assign</span>(</span>
<span id="cb3-75"><a href="#cb3-75"></a>    <span class="st">"fit_bfi"</span>,</span>
<span id="cb3-76"><a href="#cb3-76"></a>    <span class="at">value =</span> .,</span>
<span id="cb3-77"><a href="#cb3-77"></a>    <span class="at">envir =</span> .GlobalEnv</span>
<span id="cb3-78"><a href="#cb3-78"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-79"><a href="#cb3-79"></a>  <span class="fu">inspect</span>(</span>
<span id="cb3-80"><a href="#cb3-80"></a>    <span class="at">what =</span> <span class="st">"std.all"</span></span>
<span id="cb3-81"><a href="#cb3-81"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-82"><a href="#cb3-82"></a>  .<span class="sc">$</span>lambda <span class="sc">%&gt;%</span></span>
<span id="cb3-83"><a href="#cb3-83"></a>  <span class="fu">unclass</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-84"><a href="#cb3-84"></a>  <span class="fu">as_tibble</span>(</span>
<span id="cb3-85"><a href="#cb3-85"></a>    <span class="at">rownames =</span> <span class="st">"items"</span></span>
<span id="cb3-86"><a href="#cb3-86"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-87"><a href="#cb3-87"></a>  <span class="fu">arrange</span>(</span>
<span id="cb3-88"><a href="#cb3-88"></a>    <span class="fu">across</span>(</span>
<span id="cb3-89"><a href="#cb3-89"></a>      <span class="at">.cols =</span> <span class="fu">c</span>(Agreeableness, Conscientiousness, Extraversion, Neuroticism, Opennness),</span>
<span id="cb3-90"><a href="#cb3-90"></a>      <span class="at">.fns =</span> <span class="sc">~</span><span class="fu">desc</span>(.x)</span>
<span id="cb3-91"><a href="#cb3-91"></a>    )</span>
<span id="cb3-92"><a href="#cb3-92"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-93"><a href="#cb3-93"></a>  <span class="fu">left_join</span>(</span>
<span id="cb3-94"><a href="#cb3-94"></a>    <span class="at">y =</span> bfi.dictionary <span class="sc">%&gt;%</span></span>
<span id="cb3-95"><a href="#cb3-95"></a>      <span class="fu">as_tibble</span>(<span class="at">rownames =</span> <span class="st">"items"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-96"><a href="#cb3-96"></a>      <span class="fu">select</span>(items, Item, Keying),</span>
<span id="cb3-97"><a href="#cb3-97"></a>    <span class="at">by =</span> <span class="fu">join_by</span>(<span class="st">"items"</span>)</span>
<span id="cb3-98"><a href="#cb3-98"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-99"><a href="#cb3-99"></a>  <span class="fu">relocate</span>(</span>
<span id="cb3-100"><a href="#cb3-100"></a>    <span class="at">item_label =</span> Item,</span>
<span id="cb3-101"><a href="#cb3-101"></a>    <span class="at">is_rev =</span> Keying,</span>
<span id="cb3-102"><a href="#cb3-102"></a>    <span class="at">.after =</span> items</span>
<span id="cb3-103"><a href="#cb3-103"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-104"><a href="#cb3-104"></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-105"><a href="#cb3-105"></a>    <span class="at">is_rev =</span> <span class="fu">if_else</span>(</span>
<span id="cb3-106"><a href="#cb3-106"></a>      is_rev <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb3-107"><a href="#cb3-107"></a>      <span class="st">""</span>,</span>
<span id="cb3-108"><a href="#cb3-108"></a>      <span class="st">"rev"</span></span>
<span id="cb3-109"><a href="#cb3-109"></a>    )</span>
<span id="cb3-110"><a href="#cb3-110"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-111"><a href="#cb3-111"></a>  <span class="fu">bind_rows</span>(</span>
<span id="cb3-112"><a href="#cb3-112"></a>    <span class="at">y =</span> fit_bfi <span class="sc">%&gt;%</span></span>
<span id="cb3-113"><a href="#cb3-113"></a>      <span class="fu">inspect</span>(<span class="at">what =</span> <span class="st">"std.all"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-114"><a href="#cb3-114"></a>      .<span class="sc">$</span>psi <span class="sc">%&gt;%</span></span>
<span id="cb3-115"><a href="#cb3-115"></a>      <span class="fu">unclass</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-116"><a href="#cb3-116"></a>      (\(x) {</span>
<span id="cb3-117"><a href="#cb3-117"></a>        <span class="st">`</span><span class="at">[&lt;-</span><span class="st">`</span>(x, <span class="fu">lower.tri</span>(x, <span class="at">diag =</span> <span class="cn">TRUE</span>), <span class="cn">NA</span>)</span>
<span id="cb3-118"><a href="#cb3-118"></a>      }) () <span class="sc">%&gt;%</span></span>
<span id="cb3-119"><a href="#cb3-119"></a>      <span class="fu">as_tibble</span>(</span>
<span id="cb3-120"><a href="#cb3-120"></a>        <span class="at">rownames =</span> <span class="st">"item_label"</span></span>
<span id="cb3-121"><a href="#cb3-121"></a>      ) <span class="sc">%&gt;%</span></span>
<span id="cb3-122"><a href="#cb3-122"></a>      <span class="fu">mutate</span>(</span>
<span id="cb3-123"><a href="#cb3-123"></a>        <span class="at">items =</span> <span class="fu">c</span>(<span class="st">"I"</span>, <span class="st">"II"</span>, <span class="st">"III"</span>, <span class="st">"IV"</span>, <span class="st">"V"</span>)</span>
<span id="cb3-124"><a href="#cb3-124"></a>      ),</span>
<span id="cb3-125"><a href="#cb3-125"></a>    <span class="at">.id =</span> <span class="st">"data_from"</span></span>
<span id="cb3-126"><a href="#cb3-126"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-127"><a href="#cb3-127"></a>  <span class="fu">group_by</span>(data_from) <span class="sc">%&gt;%</span> </span>
<span id="cb3-128"><a href="#cb3-128"></a>  ViewPipeSteps<span class="sc">::</span><span class="fu">print_pipe_steps</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>1. bfi</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 28
      A1    A2    A3    A4    A5    C1    C2    C3    C4    C5    E1    E2    E3    E4    E5    N1
   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1     2     4     3     4     4     2     3     3     4     4     3     3     3     4     4     3
 2     2     4     5     2     5     5     4     4     3     4     1     1     6     4     3     3
 3     5     4     5     4     4     4     5     4     2     5     2     4     4     4     5     4
 4     4     4     6     5     5     4     4     3     5     5     5     3     4     4     4     2
 5     2     3     3     4     5     4     4     5     3     2     2     2     5     4     5     2
 6     6     6     5     6     5     6     6     6     1     3     2     1     6     5     6     3
 7     2     5     5     3     5     5     4     4     2     3     4     3     4     5     5     1
 8     4     3     1     5     1     3     2     4     2     4     3     6     4     2     1     6
 9     4     3     6     3     3     6     6     3     4     5     5     3    NA     4     3     5
10     2     5     6     6     5     6     5     6     2     1     2     2     4     5     5     5
# ℹ 2,790 more rows
# ℹ 12 more variables: N2 &lt;int&gt;, N3 &lt;int&gt;, N4 &lt;int&gt;, N5 &lt;int&gt;, O1 &lt;int&gt;, O2 &lt;int&gt;, O3 &lt;int&gt;,
#   O4 &lt;int&gt;, O5 &lt;int&gt;, gender &lt;int&gt;, education &lt;int&gt;, age &lt;int&gt;</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>2. relocate(age, gender, education)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 28
     age gender education    A1    A2    A3    A4    A5    C1    C2    C3    C4    C5    E1    E2
   &lt;int&gt;  &lt;int&gt;     &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1    16      1        NA     2     4     3     4     4     2     3     3     4     4     3     3
 2    18      2        NA     2     4     5     2     5     5     4     4     3     4     1     1
 3    17      2        NA     5     4     5     4     4     4     5     4     2     5     2     4
 4    17      2        NA     4     4     6     5     5     4     4     3     5     5     5     3
 5    17      1        NA     2     3     3     4     5     4     4     5     3     2     2     2
 6    21      2         3     6     6     5     6     5     6     6     6     1     3     2     1
 7    18      1        NA     2     5     5     3     5     5     4     4     2     3     4     3
 8    19      1         2     4     3     1     5     1     3     2     4     2     4     3     6
 9    19      1         1     4     3     6     3     3     6     6     3     4     5     5     3
10    17      2        NA     2     5     6     6     5     6     5     6     2     1     2     2
# ℹ 2,790 more rows
# ℹ 13 more variables: E3 &lt;int&gt;, E4 &lt;int&gt;, E5 &lt;int&gt;, N1 &lt;int&gt;, N2 &lt;int&gt;, N3 &lt;int&gt;, N4 &lt;int&gt;,
#   N5 &lt;int&gt;, O1 &lt;int&gt;, O2 &lt;int&gt;, O3 &lt;int&gt;, O4 &lt;int&gt;, O5 &lt;int&gt;</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>3. mutate(across(.cols = bfi.dictionary %&gt;% subset(Keying == -1) %&gt;% rownames(), .fns = function(x) {
    7 - x
}))</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 28
     age gender education    A1    A2    A3    A4    A5    C1    C2    C3    C4    C5    E1    E2
   &lt;int&gt;  &lt;int&gt;     &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1    16      1        NA     5     4     3     4     4     2     3     3     3     3     4     4
 2    18      2        NA     5     4     5     2     5     5     4     4     4     3     6     6
 3    17      2        NA     2     4     5     4     4     4     5     4     5     2     5     3
 4    17      2        NA     3     4     6     5     5     4     4     3     2     2     2     4
 5    17      1        NA     5     3     3     4     5     4     4     5     4     5     5     5
 6    21      2         3     1     6     5     6     5     6     6     6     6     4     5     6
 7    18      1        NA     5     5     5     3     5     5     4     4     5     4     3     4
 8    19      1         2     3     3     1     5     1     3     2     4     5     3     4     1
 9    19      1         1     3     3     6     3     3     6     6     3     3     2     2     4
10    17      2        NA     5     5     6     6     5     6     5     6     5     6     5     5
# ℹ 2,790 more rows
# ℹ 13 more variables: E3 &lt;int&gt;, E4 &lt;int&gt;, E5 &lt;int&gt;, N1 &lt;dbl&gt;, N2 &lt;dbl&gt;, N3 &lt;dbl&gt;, N4 &lt;dbl&gt;,
#   N5 &lt;dbl&gt;, O1 &lt;int&gt;, O2 &lt;dbl&gt;, O3 &lt;int&gt;, O4 &lt;int&gt;, O5 &lt;dbl&gt;</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>4. rownames_to_column(var = "id")</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 29
   id      age gender education    A1    A2    A3    A4    A5    C1    C2    C3    C4    C5    E1
   &lt;chr&gt; &lt;int&gt;  &lt;int&gt;     &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 61617    16      1        NA     5     4     3     4     4     2     3     3     3     3     4
 2 61618    18      2        NA     5     4     5     2     5     5     4     4     4     3     6
 3 61620    17      2        NA     2     4     5     4     4     4     5     4     5     2     5
 4 61621    17      2        NA     3     4     6     5     5     4     4     3     2     2     2
 5 61622    17      1        NA     5     3     3     4     5     4     4     5     4     5     5
 6 61623    21      2         3     1     6     5     6     5     6     6     6     6     4     5
 7 61624    18      1        NA     5     5     5     3     5     5     4     4     5     4     3
 8 61629    19      1         2     3     3     1     5     1     3     2     4     5     3     4
 9 61630    19      1         1     3     3     6     3     3     6     6     3     3     2     2
10 61633    17      2        NA     5     5     6     6     5     6     5     6     5     6     5
# ℹ 2,790 more rows
# ℹ 14 more variables: E2 &lt;dbl&gt;, E3 &lt;int&gt;, E4 &lt;int&gt;, E5 &lt;int&gt;, N1 &lt;dbl&gt;, N2 &lt;dbl&gt;, N3 &lt;dbl&gt;,
#   N4 &lt;dbl&gt;, N5 &lt;dbl&gt;, O1 &lt;int&gt;, O2 &lt;dbl&gt;, O3 &lt;int&gt;, O4 &lt;int&gt;, O5 &lt;dbl&gt;</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>6. lavaan::cfa(model = "\n      Agreeableness =~ A1 + A2 + A3 + A4 + A5\n      Conscientiousness =~ C1 + C2 + C3 + C4 + C5\n      Extraversion =~ E1 + E2 + E3 + E4 + E5\n      Neuroticism =~ N1 + N2 + N3 + N4 + N5\n      Opennness =~ O1 + O2 + O3 + O4 + O5\n    ", data = ., std.lv = TRUE)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6-19 ended normally after 23 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        60

                                                  Used       Total
  Number of observations                          2436        2800

Model Test User Model:
                                                      
  Test statistic                              4165.467
  Degrees of freedom                               265
  P-value (Chi-square)                           0.000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>8. inspect(what = "std.all")</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>$lambda
   Agrbln Cnscnt Extrvr Nrtcsm Opnnns
A1  0.344  0.000  0.000  0.000  0.000
A2  0.648  0.000  0.000  0.000  0.000
A3  0.749  0.000  0.000  0.000  0.000
A4  0.510  0.000  0.000  0.000  0.000
A5  0.687  0.000  0.000  0.000  0.000
C1  0.000  0.551  0.000  0.000  0.000
C2  0.000  0.592  0.000  0.000  0.000
C3  0.000  0.546  0.000  0.000  0.000
C4  0.000  0.702  0.000  0.000  0.000
C5  0.000  0.620  0.000  0.000  0.000
E1  0.000  0.000  0.564  0.000  0.000
E2  0.000  0.000  0.699  0.000  0.000
E3  0.000  0.000  0.627  0.000  0.000
E4  0.000  0.000  0.703  0.000  0.000
E5  0.000  0.000  0.553  0.000  0.000
N1  0.000  0.000  0.000  0.825  0.000
N2  0.000  0.000  0.000  0.803  0.000
N3  0.000  0.000  0.000  0.721  0.000
N4  0.000  0.000  0.000  0.573  0.000
N5  0.000  0.000  0.000  0.503  0.000
O1  0.000  0.000  0.000  0.000  0.564
O2  0.000  0.000  0.000  0.000  0.418
O3  0.000  0.000  0.000  0.000  0.724
O4  0.000  0.000  0.000  0.000  0.233
O5  0.000  0.000  0.000  0.000  0.461

$theta
      A1    A2    A3    A4    A5    C1    C2    C3    C4    C5    E1    E2    E3    E4    E5    N1
A1 0.882                                                                                          
A2 0.000 0.580                                                                                    
A3 0.000 0.000 0.438                                                                              
A4 0.000 0.000 0.000 0.740                                                                        
A5 0.000 0.000 0.000 0.000 0.528                                                                  
C1 0.000 0.000 0.000 0.000 0.000 0.697                                                            
C2 0.000 0.000 0.000 0.000 0.000 0.000 0.650                                                      
C3 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.702                                                
C4 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.507                                          
C5 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.615                                    
E1 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.682                              
E2 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.512                        
E3 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.607                  
E4 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.506            
E5 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.694      
N1 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.320
N2 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000
N3 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000
N4 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000
N5 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000
O1 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000
O2 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000
O3 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000
O4 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000
O5 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000
      N2    N3    N4    N5    O1    O2    O3    O4    O5
A1                                                      
A2                                                      
A3                                                      
A4                                                      
A5                                                      
C1                                                      
C2                                                      
C3                                                      
C4                                                      
C5                                                      
E1                                                      
E2                                                      
E3                                                      
E4                                                      
E5                                                      
N1                                                      
N2 0.356                                                
N3 0.000 0.481                                          
N4 0.000 0.000 0.672                                    
N5 0.000 0.000 0.000 0.747                              
O1 0.000 0.000 0.000 0.000 0.682                        
O2 0.000 0.000 0.000 0.000 0.000 0.826                  
O3 0.000 0.000 0.000 0.000 0.000 0.000 0.476            
O4 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.946      
O5 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.788

$psi
                  Agrbln Cnscnt Extrvr Nrtcsm Opnnns
Agreeableness      1.000                            
Conscientiousness  0.334  1.000                     
Extraversion       0.683  0.357  1.000              
Neuroticism        0.223  0.283  0.244  1.000       
Opennness          0.303  0.301  0.453  0.112  1.000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>9. .$lambda</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>   Agrbln Cnscnt Extrvr Nrtcsm Opnnns
A1  0.344  0.000  0.000  0.000  0.000
A2  0.648  0.000  0.000  0.000  0.000
A3  0.749  0.000  0.000  0.000  0.000
A4  0.510  0.000  0.000  0.000  0.000
A5  0.687  0.000  0.000  0.000  0.000
C1  0.000  0.551  0.000  0.000  0.000
C2  0.000  0.592  0.000  0.000  0.000
C3  0.000  0.546  0.000  0.000  0.000
C4  0.000  0.702  0.000  0.000  0.000
C5  0.000  0.620  0.000  0.000  0.000
E1  0.000  0.000  0.564  0.000  0.000
E2  0.000  0.000  0.699  0.000  0.000
E3  0.000  0.000  0.627  0.000  0.000
E4  0.000  0.000  0.703  0.000  0.000
E5  0.000  0.000  0.553  0.000  0.000
N1  0.000  0.000  0.000  0.825  0.000
N2  0.000  0.000  0.000  0.803  0.000
N3  0.000  0.000  0.000  0.721  0.000
N4  0.000  0.000  0.000  0.573  0.000
N5  0.000  0.000  0.000  0.503  0.000
O1  0.000  0.000  0.000  0.000  0.564
O2  0.000  0.000  0.000  0.000  0.418
O3  0.000  0.000  0.000  0.000  0.724
O4  0.000  0.000  0.000  0.000  0.233
O5  0.000  0.000  0.000  0.000  0.461</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>10. unclass()</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>   Agreeableness Conscientiousness Extraversion Neuroticism Opennness
A1     0.3440969         0.0000000    0.0000000   0.0000000 0.0000000
A2     0.6480625         0.0000000    0.0000000   0.0000000 0.0000000
A3     0.7494317         0.0000000    0.0000000   0.0000000 0.0000000
A4     0.5099514         0.0000000    0.0000000   0.0000000 0.0000000
A5     0.6873613         0.0000000    0.0000000   0.0000000 0.0000000
C1     0.0000000         0.5507480    0.0000000   0.0000000 0.0000000
C2     0.0000000         0.5919409    0.0000000   0.0000000 0.0000000
C3     0.0000000         0.5459679    0.0000000   0.0000000 0.0000000
C4     0.0000000         0.7022903    0.0000000   0.0000000 0.0000000
C5     0.0000000         0.6202606    0.0000000   0.0000000 0.0000000
E1     0.0000000         0.0000000    0.5640632   0.0000000 0.0000000
E2     0.0000000         0.0000000    0.6988480   0.0000000 0.0000000
E3     0.0000000         0.0000000    0.6270618   0.0000000 0.0000000
E4     0.0000000         0.0000000    0.7031669   0.0000000 0.0000000
E5     0.0000000         0.0000000    0.5533894   0.0000000 0.0000000
N1     0.0000000         0.0000000    0.0000000   0.8249066 0.0000000
N2     0.0000000         0.0000000    0.0000000   0.8027075 0.0000000
N3     0.0000000         0.0000000    0.0000000   0.7205144 0.0000000
N4     0.0000000         0.0000000    0.0000000   0.5729313 0.0000000
N5     0.0000000         0.0000000    0.0000000   0.5027198 0.0000000
O1     0.0000000         0.0000000    0.0000000   0.0000000 0.5641192
O2     0.0000000         0.0000000    0.0000000   0.0000000 0.4175189
O3     0.0000000         0.0000000    0.0000000   0.0000000 0.7239194
O4     0.0000000         0.0000000    0.0000000   0.0000000 0.2325609
O5     0.0000000         0.0000000    0.0000000   0.0000000 0.4606394</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>11. as_tibble(rownames = "items")</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 6
   items Agreeableness Conscientiousness Extraversion Neuroticism Opennness
   &lt;chr&gt;         &lt;dbl&gt;             &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
 1 A1            0.344             0            0           0         0    
 2 A2            0.648             0            0           0         0    
 3 A3            0.749             0            0           0         0    
 4 A4            0.510             0            0           0         0    
 5 A5            0.687             0            0           0         0    
 6 C1            0                 0.551        0           0         0    
 7 C2            0                 0.592        0           0         0    
 8 C3            0                 0.546        0           0         0    
 9 C4            0                 0.702        0           0         0    
10 C5            0                 0.620        0           0         0    
11 E1            0                 0            0.564       0         0    
12 E2            0                 0            0.699       0         0    
13 E3            0                 0            0.627       0         0    
14 E4            0                 0            0.703       0         0    
15 E5            0                 0            0.553       0         0    
16 N1            0                 0            0           0.825     0    
17 N2            0                 0            0           0.803     0    
18 N3            0                 0            0           0.721     0    
19 N4            0                 0            0           0.573     0    
20 N5            0                 0            0           0.503     0    
21 O1            0                 0            0           0         0.564
22 O2            0                 0            0           0         0.418
23 O3            0                 0            0           0         0.724
24 O4            0                 0            0           0         0.233
25 O5            0                 0            0           0         0.461</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>12. arrange(across(.cols = c(Agreeableness, Conscientiousness, Extraversion, Neuroticism, Opennness), .fns = ~desc(.x)))</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 6
   items Agreeableness Conscientiousness Extraversion Neuroticism Opennness
   &lt;chr&gt;         &lt;dbl&gt;             &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
 1 A3            0.749             0            0           0         0    
 2 A5            0.687             0            0           0         0    
 3 A2            0.648             0            0           0         0    
 4 A4            0.510             0            0           0         0    
 5 A1            0.344             0            0           0         0    
 6 C4            0                 0.702        0           0         0    
 7 C5            0                 0.620        0           0         0    
 8 C2            0                 0.592        0           0         0    
 9 C1            0                 0.551        0           0         0    
10 C3            0                 0.546        0           0         0    
11 E4            0                 0            0.703       0         0    
12 E2            0                 0            0.699       0         0    
13 E3            0                 0            0.627       0         0    
14 E1            0                 0            0.564       0         0    
15 E5            0                 0            0.553       0         0    
16 N1            0                 0            0           0.825     0    
17 N2            0                 0            0           0.803     0    
18 N3            0                 0            0           0.721     0    
19 N4            0                 0            0           0.573     0    
20 N5            0                 0            0           0.503     0    
21 O3            0                 0            0           0         0.724
22 O1            0                 0            0           0         0.564
23 O5            0                 0            0           0         0.461
24 O2            0                 0            0           0         0.418
25 O4            0                 0            0           0         0.233</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>13. left_join(y = bfi.dictionary %&gt;% as_tibble(rownames = "items") %&gt;% select(items, Item, Keying), by = join_by("items"))</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 8
   items Agreeableness Conscientiousness Extraversion Neuroticism Opennness Item              Keying
   &lt;chr&gt;         &lt;dbl&gt;             &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt; &lt;fct&gt;              &lt;int&gt;
 1 A3            0.749             0            0           0         0     Know how to comf…      1
 2 A5            0.687             0            0           0         0     Make people feel…      1
 3 A2            0.648             0            0           0         0     Inquire about ot…      1
 4 A4            0.510             0            0           0         0     Love children.         1
 5 A1            0.344             0            0           0         0     Am indifferent t…     -1
 6 C4            0                 0.702        0           0         0     Do things in a h…     -1
 7 C5            0                 0.620        0           0         0     Waste my time.        -1
 8 C2            0                 0.592        0           0         0     Continue until e…      1
 9 C1            0                 0.551        0           0         0     Am exacting in m…      1
10 C3            0                 0.546        0           0         0     Do things accord…      1
11 E4            0                 0            0.703       0         0     Make friends eas…      1
12 E2            0                 0            0.699       0         0     Find it difficul…     -1
13 E3            0                 0            0.627       0         0     Know how to capt…      1
14 E1            0                 0            0.564       0         0     Don't talk a lot.     -1
15 E5            0                 0            0.553       0         0     Take charge.           1
16 N1            0                 0            0           0.825     0     Get angry easily.     -1
17 N2            0                 0            0           0.803     0     Get irritated ea…     -1
18 N3            0                 0            0           0.721     0     Have frequent mo…     -1
19 N4            0                 0            0           0.573     0     Often feel blue.      -1
20 N5            0                 0            0           0.503     0     Panic easily.         -1
21 O3            0                 0            0           0         0.724 Carry the conver…      1
22 O1            0                 0            0           0         0.564 Am full of ideas.      1
23 O5            0                 0            0           0         0.461 Will not probe d…     -1
24 O2            0                 0            0           0         0.418 Avoid difficult …     -1
25 O4            0                 0            0           0         0.233 Spend time refle…      1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>14. relocate(item_label = Item, is_rev = Keying, .after = items)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 8
   items item_label        is_rev Agreeableness Conscientiousness Extraversion Neuroticism Opennness
   &lt;chr&gt; &lt;fct&gt;              &lt;int&gt;         &lt;dbl&gt;             &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
 1 A3    Know how to comf…      1         0.749             0            0           0         0    
 2 A5    Make people feel…      1         0.687             0            0           0         0    
 3 A2    Inquire about ot…      1         0.648             0            0           0         0    
 4 A4    Love children.         1         0.510             0            0           0         0    
 5 A1    Am indifferent t…     -1         0.344             0            0           0         0    
 6 C4    Do things in a h…     -1         0                 0.702        0           0         0    
 7 C5    Waste my time.        -1         0                 0.620        0           0         0    
 8 C2    Continue until e…      1         0                 0.592        0           0         0    
 9 C1    Am exacting in m…      1         0                 0.551        0           0         0    
10 C3    Do things accord…      1         0                 0.546        0           0         0    
11 E4    Make friends eas…      1         0                 0            0.703       0         0    
12 E2    Find it difficul…     -1         0                 0            0.699       0         0    
13 E3    Know how to capt…      1         0                 0            0.627       0         0    
14 E1    Don't talk a lot.     -1         0                 0            0.564       0         0    
15 E5    Take charge.           1         0                 0            0.553       0         0    
16 N1    Get angry easily.     -1         0                 0            0           0.825     0    
17 N2    Get irritated ea…     -1         0                 0            0           0.803     0    
18 N3    Have frequent mo…     -1         0                 0            0           0.721     0    
19 N4    Often feel blue.      -1         0                 0            0           0.573     0    
20 N5    Panic easily.         -1         0                 0            0           0.503     0    
21 O3    Carry the conver…      1         0                 0            0           0         0.724
22 O1    Am full of ideas.      1         0                 0            0           0         0.564
23 O5    Will not probe d…     -1         0                 0            0           0         0.461
24 O2    Avoid difficult …     -1         0                 0            0           0         0.418
25 O4    Spend time refle…      1         0                 0            0           0         0.233</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>15. mutate(is_rev = if_else(is_rev &gt; 0, "", "rev"))</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 8
   items item_label        is_rev Agreeableness Conscientiousness Extraversion Neuroticism Opennness
   &lt;chr&gt; &lt;fct&gt;             &lt;chr&gt;          &lt;dbl&gt;             &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
 1 A3    Know how to comf… ""             0.749             0            0           0         0    
 2 A5    Make people feel… ""             0.687             0            0           0         0    
 3 A2    Inquire about ot… ""             0.648             0            0           0         0    
 4 A4    Love children.    ""             0.510             0            0           0         0    
 5 A1    Am indifferent t… "rev"          0.344             0            0           0         0    
 6 C4    Do things in a h… "rev"          0                 0.702        0           0         0    
 7 C5    Waste my time.    "rev"          0                 0.620        0           0         0    
 8 C2    Continue until e… ""             0                 0.592        0           0         0    
 9 C1    Am exacting in m… ""             0                 0.551        0           0         0    
10 C3    Do things accord… ""             0                 0.546        0           0         0    
11 E4    Make friends eas… ""             0                 0            0.703       0         0    
12 E2    Find it difficul… "rev"          0                 0            0.699       0         0    
13 E3    Know how to capt… ""             0                 0            0.627       0         0    
14 E1    Don't talk a lot. "rev"          0                 0            0.564       0         0    
15 E5    Take charge.      ""             0                 0            0.553       0         0    
16 N1    Get angry easily. "rev"          0                 0            0           0.825     0    
17 N2    Get irritated ea… "rev"          0                 0            0           0.803     0    
18 N3    Have frequent mo… "rev"          0                 0            0           0.721     0    
19 N4    Often feel blue.  "rev"          0                 0            0           0.573     0    
20 N5    Panic easily.     "rev"          0                 0            0           0.503     0    
21 O3    Carry the conver… ""             0                 0            0           0         0.724
22 O1    Am full of ideas. ""             0                 0            0           0         0.564
23 O5    Will not probe d… "rev"          0                 0            0           0         0.461
24 O2    Avoid difficult … "rev"          0                 0            0           0         0.418
25 O4    Spend time refle… ""             0                 0            0           0         0.233</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>16. bind_rows(y = fit_bfi %&gt;% inspect(what = "std.all") %&gt;% .$psi %&gt;% unclass() %&gt;% (function(x) {
    `[&lt;-`(x, lower.tri(x, diag = TRUE), NA)
})() %&gt;% as_tibble(rownames = "item_label") %&gt;% mutate(items = c("I", "II", "III", "IV", "V")), .id = "data_from")</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 9
   data_from items item_label        is_rev Agreeableness Conscientiousness Extraversion Neuroticism
   &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;             &lt;chr&gt;          &lt;dbl&gt;             &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;
 1 1         A3    Know how to comf… ""             0.749             0            0           0    
 2 1         A5    Make people feel… ""             0.687             0            0           0    
 3 1         A2    Inquire about ot… ""             0.648             0            0           0    
 4 1         A4    Love children.    ""             0.510             0            0           0    
 5 1         A1    Am indifferent t… "rev"          0.344             0            0           0    
 6 1         C4    Do things in a h… "rev"          0                 0.702        0           0    
 7 1         C5    Waste my time.    "rev"          0                 0.620        0           0    
 8 1         C2    Continue until e… ""             0                 0.592        0           0    
 9 1         C1    Am exacting in m… ""             0                 0.551        0           0    
10 1         C3    Do things accord… ""             0                 0.546        0           0    
11 1         E4    Make friends eas… ""             0                 0            0.703       0    
12 1         E2    Find it difficul… "rev"          0                 0            0.699       0    
13 1         E3    Know how to capt… ""             0                 0            0.627       0    
14 1         E1    Don't talk a lot. "rev"          0                 0            0.564       0    
15 1         E5    Take charge.      ""             0                 0            0.553       0    
16 1         N1    Get angry easily. "rev"          0                 0            0           0.825
17 1         N2    Get irritated ea… "rev"          0                 0            0           0.803
18 1         N3    Have frequent mo… "rev"          0                 0            0           0.721
19 1         N4    Often feel blue.  "rev"          0                 0            0           0.573
20 1         N5    Panic easily.     "rev"          0                 0            0           0.503
21 1         O3    Carry the conver… ""             0                 0            0           0    
22 1         O1    Am full of ideas. ""             0                 0            0           0    
23 1         O5    Will not probe d… "rev"          0                 0            0           0    
24 1         O2    Avoid difficult … "rev"          0                 0            0           0    
25 1         O4    Spend time refle… ""             0                 0            0           0    
26 2         I     Agreeableness      &lt;NA&gt;         NA                 0.334        0.683       0.223
27 2         II    Conscientiousness  &lt;NA&gt;         NA                NA            0.357       0.283
28 2         III   Extraversion       &lt;NA&gt;         NA                NA           NA           0.244
29 2         IV    Neuroticism        &lt;NA&gt;         NA                NA           NA          NA    
30 2         V     Opennness          &lt;NA&gt;         NA                NA           NA          NA    
# ℹ 1 more variable: Opennness &lt;dbl&gt;</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 9
# Groups:   data_from [2]
   data_from items item_label        is_rev Agreeableness Conscientiousness Extraversion Neuroticism
   &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;             &lt;chr&gt;          &lt;dbl&gt;             &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;
 1 1         A3    Know how to comf… ""             0.749             0            0           0    
 2 1         A5    Make people feel… ""             0.687             0            0           0    
 3 1         A2    Inquire about ot… ""             0.648             0            0           0    
 4 1         A4    Love children.    ""             0.510             0            0           0    
 5 1         A1    Am indifferent t… "rev"          0.344             0            0           0    
 6 1         C4    Do things in a h… "rev"          0                 0.702        0           0    
 7 1         C5    Waste my time.    "rev"          0                 0.620        0           0    
 8 1         C2    Continue until e… ""             0                 0.592        0           0    
 9 1         C1    Am exacting in m… ""             0                 0.551        0           0    
10 1         C3    Do things accord… ""             0                 0.546        0           0    
11 1         E4    Make friends eas… ""             0                 0            0.703       0    
12 1         E2    Find it difficul… "rev"          0                 0            0.699       0    
13 1         E3    Know how to capt… ""             0                 0            0.627       0    
14 1         E1    Don't talk a lot. "rev"          0                 0            0.564       0    
15 1         E5    Take charge.      ""             0                 0            0.553       0    
16 1         N1    Get angry easily. "rev"          0                 0            0           0.825
17 1         N2    Get irritated ea… "rev"          0                 0            0           0.803
18 1         N3    Have frequent mo… "rev"          0                 0            0           0.721
19 1         N4    Often feel blue.  "rev"          0                 0            0           0.573
20 1         N5    Panic easily.     "rev"          0                 0            0           0.503
21 1         O3    Carry the conver… ""             0                 0            0           0    
22 1         O1    Am full of ideas. ""             0                 0            0           0    
23 1         O5    Will not probe d… "rev"          0                 0            0           0    
24 1         O2    Avoid difficult … "rev"          0                 0            0           0    
25 1         O4    Spend time refle… ""             0                 0            0           0    
26 2         I     Agreeableness      &lt;NA&gt;         NA                 0.334        0.683       0.223
27 2         II    Conscientiousness  &lt;NA&gt;         NA                NA            0.357       0.283
28 2         III   Extraversion       &lt;NA&gt;         NA                NA           NA           0.244
29 2         IV    Neuroticism        &lt;NA&gt;         NA                NA           NA          NA    
30 2         V     Opennness          &lt;NA&gt;         NA                NA           NA          NA    
# ℹ 1 more variable: Opennness &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>データとコードブックがあれば技術的には可能です。 そのうちちゃんとした因子分析のやり方のメモを残そうと思います。</p>
</section>
<section id="session-infomation" class="level2">
<h2 class="anchored" data-anchor-id="session-infomation">Session Infomation</h2>
<div class="callout callout-style-default callout-note callout-titled" title="sessioninfo">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>sessioninfo
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.4.2 (2024-10-31 ucrt)
Platform: x86_64-w64-mingw32/x64
Running under: Windows 11 x64 (build 26100)

Matrix products: default


locale:
[1] LC_COLLATE=Japanese_Japan.utf8  LC_CTYPE=Japanese_Japan.utf8    LC_MONETARY=Japanese_Japan.utf8
[4] LC_NUMERIC=C                    LC_TIME=Japanese_Japan.utf8    

time zone: Asia/Tokyo
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] gt_1.2.0        psych_2.5.6     lavaan_0.6-19   lubridate_1.9.4 forcats_1.0.0   stringr_1.5.1  
 [7] dplyr_1.1.4     purrr_1.1.0     readr_2.1.5     tidyr_1.3.1     tibble_3.3.0    ggplot2_3.5.2  
[13] tidyverse_2.0.0

loaded via a namespace (and not attached):
 [1] utf8_1.2.6          sass_0.4.10         generics_0.1.4      xml2_1.4.0         
 [5] stringi_1.8.7       lattice_0.22-7      hms_1.1.3           digest_0.6.37      
 [9] magrittr_2.0.3      evaluate_1.0.5      grid_4.4.2          timechange_0.3.0   
[13] RColorBrewer_1.1-3  fastmap_1.2.0       jsonlite_2.0.0      scales_1.4.0       
[17] ViewPipeSteps_0.1.0 pbivnorm_0.6.0      textshaping_1.0.1   mnormt_2.1.1       
[21] cli_3.6.5           rlang_1.1.6         litedown_0.7        commonmark_2.0.0   
[25] base64enc_0.1-3     withr_3.0.2         yaml_2.3.10         tools_4.4.2        
[29] parallel_4.4.2      tzdb_0.5.0          pacman_0.5.1        vctrs_0.6.5        
[33] R6_2.6.1            stats4_4.4.2        lifecycle_1.0.4     fs_1.6.6           
[37] htmlwidgets_1.6.4   ragg_1.4.0          pkgconfig_2.0.3     pillar_1.11.0      
[41] gtable_0.3.6        glue_1.8.0          systemfonts_1.2.3   xfun_0.52          
[45] tidyselect_1.2.1    rstudioapi_0.17.1   knitr_1.50          farver_2.1.2       
[49] htmltools_0.5.8.1   nlme_3.1-168        rmarkdown_2.29      labeling_0.4.3     
[53] compiler_4.4.2      quadprog_1.5-8      markdown_2.0       </code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="log" class="level2">
<h2 class="anchored" data-anchor-id="log">Log</h2>
<ul>
<li>2026-01-20
<ul>
<li>HTML出力だと環境によってはフォントが再現されないので、画像を追加。</li>
</ul></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/tsakai-website\.pages\.dev");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
            // default icon
            link.classList.add("external");
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2025 Takuto Sakai<br> Content on this website is licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en">CC BY-SA 4.0</a>.<br> Code is released under the <a href="../../LICENSE.html">MIT License</a>.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Please contact me via <a href="https://x.com/tsakai_psych">X (Twitter)</a>.</p>
</div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>